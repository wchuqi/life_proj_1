
```java
public static void main(String[] args) {
    Map<Integer, Integer> map = new TreeMap<>();
    map.put(0, 2);
    map.put(4, 5);
    map.put(3, 6);
    map.put(8, 10);
    System.out.println(map); // {0=2, 3=6, 4=5, 8=10}
    System.out.println(combin(map)); // {0=6, 8=10}
}
static Map<Integer, Integer> combin(Map<Integer, Integer> map) {
    Map<Integer, Integer> new_map = new TreeMap<>();
    if (map.size() == 0) {
        return new_map;
    }
    int begin = -1, end = -1;
    for (Map.Entry<Integer, Integer> entry : map.entrySet()) {
        int from = entry.getKey();
        int to = entry.getValue();
        if (begin == -1) {
            // 第一个区间
            begin = from;
            end = to;
            continue;
        }
        if (from <= end+1) {
            int new_end = Math.max(to, end);
            new_map.put(begin, new_end);
            end = new_end;
            continue;
        }
        new_map.put(begin, end);
        begin = from;
        end = to;
    }
    new_map.put(begin, end);
    return new_map;
}
```